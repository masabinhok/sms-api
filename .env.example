# SMS API Environment Configuration
# Copy this file to .env and update the values according to your setup

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# PostgreSQL database connection for Auth microservice
AUTH_DATABASE_URL="postgresql://username:password@localhost:5432/sms_auth?schema=public"

# PostgreSQL database connection for Student microservice  
STUDENT_DATABASE_URL="postgresql://username:password@localhost:5432/sms_student?schema=public"

# PostgreSQL database connection for Teacher microservice
TEACHER_DATABASE_URL="postgresql://username:password@localhost:5432/sms_teacher?schema=public"

# =============================================================================
# JWT CONFIGURATION
# =============================================================================
# Secret key for JWT token generation (use a strong, random string in production)
JWT_ACCESS_SECRET="your-super-secret-access-key-here"
JWT_REFRESH_SECRET="your-super-secret-refresh-key-here"

# Token expiration times
JWT_ACCESS_EXPIRES_IN="15m"
JWT_REFRESH_EXPIRES_IN="7d"

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================
# Port for the Gateway service (main API entry point)
PORT=3000

# Frontend URL for CORS configuration
FRONTEND_URL="http://localhost:4000"

# Node environment (development, production, test)
NODE_ENV="development"

# =============================================================================
# KAFKA CONFIGURATION
# =============================================================================
# Kafka brokers for microservices communication
KAFKA_BROKERS="localhost:9094,localhost:9095,localhost:9096"

# =============================================================================
# EMAIL CONFIGURATION
# =============================================================================
# SMTP configuration for sending emails (credentials, notifications, etc.)
SMTP_HOST="smtp.gmail.com"
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER="your-email@gmail.com"
SMTP_PASS="your-app-password"

# Email sender information
EMAIL_FROM="SMS System <noreply@sms.school>"

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
# Cookie security settings
COOKIE_SECURE=true
COOKIE_SAME_SITE="none"

# CORS origins (comma-separated list)
ALLOWED_ORIGINS="http://localhost:3000,http://localhost:4000,https://sms.school"

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
# Log level (error, warn, info, debug)
LOG_LEVEL="info"

# Log file path (optional, logs to console if not specified)
LOG_FILE_PATH="./logs/app.log"

# =============================================================================
# API DOCUMENTATION
# =============================================================================
# Enable/disable Swagger documentation
ENABLE_SWAGGER=true

# Swagger documentation path
SWAGGER_PATH="/api/docs"

# =============================================================================
# MICROSERVICE PORTS
# =============================================================================
# Internal ports for microservices (when running without gateway)
AUTH_SERVICE_PORT=3001
STUDENT_SERVICE_PORT=3002
TEACHER_SERVICE_PORT=3003
EMAIL_SERVICE_PORT=3004

# =============================================================================
# REDIS CONFIGURATION (Optional - for caching/sessions)
# =============================================================================
# REDIS_HOST="localhost"
# REDIS_PORT=6379
# REDIS_PASSWORD=""
# REDIS_DB=0

# =============================================================================
# FILE UPLOAD CONFIGURATION
# =============================================================================
# Maximum file size for uploads (in bytes)
MAX_FILE_SIZE=5242880  # 5MB

# Allowed file types for uploads
ALLOWED_FILE_TYPES="image/jpeg,image/png,image/gif,application/pdf"

# Upload directory
UPLOAD_DIR="./uploads"

# =============================================================================
# RATE LIMITING
# =============================================================================
# Rate limiting configuration
RATE_LIMIT_TTL=60000    # 1 minute in milliseconds
RATE_LIMIT_MAX=100      # Maximum requests per TTL window